<!DOCTYPE html>
<html lang="pt-BR">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Teste</title>
</head>

<body>
	<div class="area-form">
		<form id="form" action="http://localhost:3000/enviar-formulario" method="POST">
			<div class="label-input">
				<label for="nome">Nome:</label>
				<input type="text" name="nome" id="nome">
			</div>
			<div class="label-input">
				<label for="senha">Senha:</label>
				<input type="password" name="senha" id="senha">
			</div>

			<div class="submit-area">
				<button type="submit" id="submit">Enviar</button>
			</div>
		</form>
	</div>
</body>

<script>

	const url = 'http://localhost:3000/enviar-formulario';

	const form = document.querySelector("#form");

	form.addEventListener('submit', function (event) {
		event.preventDefault(); // previne o envio do formulário

		// Cria um objeto para armazenar os dados do formulário
		const data = {};
		for (const input of form.elements) {
			if (input.name) { // verifica se o elemento tem um nome
				data[input.name] = input.value;
			}
		}

		const xhttp = new XMLHttpRequest();
		xhttp.onreadystatechange = function () {
			if (this.readyState == 4 && this.status == 200) {
				// Resposta recebida com sucesso
				console.log(this.responseText);
			}
		};
		xhttp.open('POST', url, true);
		xhttp.setRequestHeader('Content-type', 'application/json');
		xhttp.send(JSON.stringify(data));
	});


</script>

</html>


		document.querySelector("#att").addEventListener('click', () => {
		atualizaLista();
		})